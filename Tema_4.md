# Тема 4. Функции и модули

Отчёт по теме №4 выполнил:

- Хайрутдинов Игорь Юрьевич
- ИВТ-22-2

| Задание | Лаб_раб | Сам_раб |
| ------- | ------- | ------- |
| Задание 1 | + | + |
| Задание 2 | + | + |
| Задание 3 | + | + |
| Задание 4 | + | + |
| Задание 5 | + | + |
| Задание 6 | + | - |
| Задание 7 | + | - |
| Задание 8 | + | - |
| Задание 9 | + | - |
| Задание 10 | + | - |

Работу проверил:

- к.э.н., доцент Панов М.А.

## Лабораторная работа №1
### Напишите функцию, которая выполняет любые арифметические действия и выводит результат в консоль. Вызовите функцию, используя "точку входа".

```python
def main():
    print(2**5)

if __name__=="__main__":
    main()
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Lab1.png)

## Выводы

Данный код содержит функцию `main()`, определённую ключевым словом `def`, которая выводит в консоль значение 2 в степени 5 (32). Эта функция вызывается через точку входа "__main__", что означает, что если этот файл запустить как программу, то значение `__name__`, обозначающей точку входа, становится "__main__", что и проверяется во время работы программы. Если это так, то программа вызывает функцию `main()`, выводя на экран 32, как на скриншоте выше.

## Лабораторная работа №2
### Напишите функцию, которая выполняет любые арифметические действия, возвращает при помощи return значение в место, откуда вызывали функцию. Выведите результат в консоль. Вызовите функцию, используя "точку входа".

```python
def main():
    return 6**3

if __name__=="__main__":
    print(main())
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Lab2.png)

## Выводы

Данный код содержит функцию `main()`, определённую также ключевым словом `def`, которая возвращает в виде числа значение 6 в кубе (216). В отличие от функции в лаб. раб. №1, эта функция ничего сама по себе на экран не выводит, а вывод происходит во время выполнения этого кода как программы, о чём свидетельствует функция `print(main())`, вызываемая через точку входа `__main__`.

## Лабораторная работа №3
### Напишите функцию, в которую передаются два аргумента, над ними производится арифметическое действие, результат возвращается туда, откуда эту функцию вызывали. Выведите результат в консоль. Вызовите функцию в любом небольшом цикле.

```python
def chuchu(a,b):
    return a**b

for i in range(2,11):
    print(chuchu(2,i))
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Lab3.png)

## Выводы

Данный код содержит функцию `chuchu()`, которая принимает два аргумента как параметры a и b и выводит значение a в степени b. Во время работы программа входит в цикл по списку чисел от 2 до 10, каждое из которых заносится в переменную i, и в каждой итерации цикла вызывается функция `chuchu()` с аргументами 2 и i, таким образом выводя на экран степени числа 2 от 2-й (4) до 10-й (1024), как на скриншоте выше.

## Лабораторная работа №4
### Напишите функцию, на вход которой подаётся какое-то изначальное неизвестное количество аргументов, над которыми будет производится арифметические действия. Для выполнения задачи необходимо использовать кортеж "*args".

```python
def toot(*args):
    summ=0
    for i in args: summ+=abs(i)
    return summ

if __name__=="__main__":
    print(toot(12,-32,5,-45,34,-34,64,32,2,81))
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Lab4.png)

## Выводы

Данный код содержит функцию `toot()`, которая принимает неограниченное число аргументов в виде кортежа `*args`, вычисляет сумму модулей (абсолютных значений) чисел в кортеже через цикл и выводит её как число туда, откуда функция вызывалась. В нашем случае это функция `print()`, вызываемая через точку входа `__main__` (вызов кода как программы). Все аргументы (12, -32, 5, -45, 34, -34, 64, 32, 2, 81) передаются функции `toot()`, которая возвращает функции `print()` сумму модулей этих чисел. В скриншоте выше показана сумма 12+32+5+45+34+34+64+32+2+81=341.

## Лабораторная работа №5
### Напишите функцию, которая на вход получает кортеж "**kwargs" и при помощи цикла выводит значения, поступившие в функцию. Вызовите функцию, используя "точку входа".

```python
def main(**kwargs):
    for n in kwargs:
        print(f"The value of {n} is {kwargs[n]}")
    for n in kwargs.items():
        print(f"{n[0]}={n[1]}")

if __name__=="__main__":
    main(one=1,two=2,three=3)
    print()
    main(**{'class':'main','lalala':'zhuzhuzhu'})
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Lab5.png)

## Выводы

Данная программа содержит функцию main, принимающую неограниченное количество аргументов, но уже именованных (т.е. у каждого параметра своё имя, передаваемое как аргумент), собирая их в словарь (как например `one=1,two=2,three=3`), или же целый словарь этих аргументов, передаваемый через `**` перед ним (как на примере были переданы аргументы `**{'class':'main','lalala':'zhuzhuzhu'}`). В самой функции эти аргументы выводятся на экран через цикл двумя способами. Первый - с обращением напрямую к словарю (параметр n цикла в этом случае - это ключ, а значение выводится через `kwargs[n]`). Именно здесь выводится `"The value of {ключ} is {значение}"`. И второй способ - через многомерный список `n*2`, где n - количество аргументов, создаваемый из словаря с помощью функции `items()`. Здесь n - это список из двух элементов: первый - это ключ, а второй - это значение. Здесь выводится просто "{ключ}={значение}". Функция вызывается через точку входа "__main__" два раза двумя способами ввода аргументов, описанных выше, а между вызовами выводится пустая строка.

## Лабораторная работа №6
### Напишите две функции. Первая получает в виде параметра "**kwargs", вторая считает среднее арифметическое из значений первой функции. Вызовите первую функцию, используя "точку входа" и минимум 4 аргумента.

```python
def main(**kwargs):
    for name,arr in kwargs.items():
        print(f"Numbers: {name}, mean: {avg(arr)}")

def avg(list1):
    return sum(list1)/len(list1)

if __name__=="__main__":
    main(**{'1, 5, 8, -3':[1,5,8,-3],'-3, 0, -10, 15':[-3,0,-10,15],'62, 43, -423, 300':[62,43,-423,300],'-6, -4.5, 7.3, -12':[-6,-4.5,7.3,-12]})
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Lab6.png)

## Выводы

Данный код содержит две функции: `main()`, принимающую как аргумент словарь или неограниченное количество именованных аргументов, о чем говорят две звёздочки перед kwargs в скобках, и `avg()`, принимающую как аргумент список. Первая, `main()`, обрабатывает словарь kwargs, занося в переменные name и arr соответственно ключ и значения из словаря и выводя на экран строку "Numbers: {name}, mean: `{avg(arr)}` (значение функции `arr()`, вызываемой с аргументом, равным значению из словаря - в нашем случае списком чисел)". Вторая же функция, `avg()`, вызывает две стандартных функции Python `sum()` (сумма чисел в массиве) и `len()` (длина массива), передавая как аргумент параметр list1 в обоих случаях, и возвращает результат деления результата `sum(list1)` и результата `len(list1)`, тем самым возвращая среднее арифметическое. Функция `main()` вызывается через точку входа "__main__", когда код запущен как программа, в качестве аргумента передан словарь, ключи которого представляют собой текстовые строки с числами, а значения - списки этих же чисел, но уже записанных как числа. В результате программа выводит сами числа и их среднее арифметическое.

## Лабораторная работа №7
### Создайте дополнительный файл .py. Напишите в нём любую функцию, которая будет что угодно выводить в консоль, но не вызывайте её в нём. Откройте файл main.py, импортируйте в него функцию из нового файла и при помощи "точки входа" вызовите эту функцию.

main.py:
```python
from module import hw

if __name__=="__main__":
    hw()
```

module.py:
```python
def hw():
    print("Hello World.. from another file..")
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Lab7.png)

## Выводы

Эта программа, состоящая из двух файлов, просто выводит на экран фразу "Hello World.. from another file..". Как видно из скриншота выше, запускается файл main.py, но в самом этом файле нет функции вызова этой фразы. Вместо этого, функция импортируется из другого файла - module.py. Конструкция from-import позволяет импортировать отдельно взятые (или сразу все через `from .... import *`) функции из модуля, которые можно вызывать по имени так же, как и если это были бы функции из основного файла, о чём говорит то, что вызов функции `hw()` из файла module.py в файле main.py осуществляется просто через `hw()` без прочих конструкций. Сама функция же вызывается через точку входа "__main__", что означает, что она вызывается при запуске main.py как программы.

## Лабораторная работа №8
### Напишите программу, которая будет выводить корень, синус, косинус полученного от пользователя числа.

```python
from math import sin, cos, sqrt

def main(num):
    print(f"sin({num})={sin(num)}, cos({num})={cos(num)}, sqrt({num})={sqrt(num)}")

if __name__=="__main__":
    main(float(input("Введите число: ")))
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Lab8.png)

## Выводы

Данная программа импортирует функции `sin()`, `cos()` и `sqrt()` из стандартной Python библиотеки math для использования в функции `main()`, принимающую в параметр num аргумент-число. Эта функция использует импортированные функции для вычисления синуса, косинуса и квадратного корня из числа из параметра num и выводит результаты выполнения этих функций как F-строку "sin({num})={sin(num)}, cos({num})={cos(num)}, sqrt({num})={sqrt(num)}". Эта функция вызывается через точку входа "__main__", а в функцию в свою очередь передаётся аргумент, вводимый пользователем, в формате дробного числа. На примере из скриншота выше показаны значения sin, cos и sqrt числа 3.1415 (примерно равно числу π) - синус стремится к 0, что видно по "e-05" (умножение на 10 в степени -5), а косинус - к -1.

## Лабораторная работа №9
### Напишите программу, которая будет рассчитывать, какой день недели будет через n-нное количество дней, которые укажет пользователь.

```python
from datetime import date, timedelta as td

def num_to_weekday(num):
    if num==0: return 'понедельник'
    elif num==1: return 'вторник'
    elif num==2: return 'среда'
    elif num==3: return 'четверг'
    elif num==4: return 'пятница'
    elif num==5: return 'суббота'
    else: return 'воскресенье'

def main():
    today=date.today()
    print(
        f"Сегодня {num_to_weekday(today.weekday())}, {today}"
    )
    n=int(input("Введите количество дней: "))
    ndays=today+td(days=n)
    print(
        f"Через {n} дней будет {num_to_weekday(ndays.weekday())}, {ndays}"
    )

if __name__=="__main__":
    main()
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Lab9.png)

## Выводы

Эта программа импортирует из стандартной библиотеки datetime модули date и timedelta (первая для работы с датами, вторая - для работы с разницами по времени). Функция `num_to_weekday(num)` принимает на вход число, в нашем случае - число от 0 до 6, обозначающее день недели, и на выходе возвращает день недели как текст. Основная функция `main()`, вызываемая через точку входа "__main__", сначала через функцию `today()` модуля date вводит текущую дату в переменную today, затем её и текущий день недели, который сначала выводится через функцию weekday() объекта today в виде числа от 0 до 6, затем переводится в слово функцией `num_to_weekday(num)`, выводит в консоль. Затем идёт ввод числа n от пользователя - количества дней. После этого создаётся на основе переменной today и разницы в n дней, рассчитываемой через функцию timedelta (с псевдонимом td - во время импорта функции через as указан псевдоним функции, который и используется в основной программе) с аргументом days=n переменная ndays, которая хранит дату через n дней от сегодняшней. Эта дата и соответствующий ей день недели выводится так же, как и ранее выводилась сегодняшняя дата. На скриншоте выше показана дата 25 сентября и дата через 100 дней - 3 января 2025 года, пятница.

## Лабораторная работа №10
### Напишите программу с использованием глобальных переменных, которая будет считать площадь треугольника или прямоугольника в зависимости от того, что выберет пользователь. Получение всей необходимой информации реализовать через input(), а подсчёт площадей выполнить при помощи функций. Результатом программы будет число, равное площади необходимой фигуры.

```python
global result

def rect(a,b):
    global result
    result=a*b

def tri(a,h):
    global result
    result=a*h/2

fig=input("П - прямоугольник, Т - треугольник? ")

if fig=='П':
    rect(float(input("Ширина? ")),float(input("Высота? ")))
elif fig=='Т':
    tri(float(input("Основание? ")), float(input("Высота? ")))

print(f"Площадь равна {result}")
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Lab10.png)

## Выводы

Данная программа инициализирует глобальную переменную result, в которой будет значение площади фигуры. Далее идут функции rect() и tri(), которые принимают как аргументы соответствующие параметры фигур (для прямоугольника это ширина и высота, а для треугольника - основание и высота к нему), рассчитывают и заносят результаты вычислений площадей (для прямоугольника - произведение ширины и высоты, для треугольника - половина произведения основания и высоты) в глобальную переменную result, которая объявляется в каждой функции как глобальная так же, как и в начале программы. Сама же программы сначала принимает на вход от пользователя, для какой фигуры необходимо рассчитать площадь (прямоугольника или треугольника), а далее в зависимости от выбранной фигуры у пользователя спрашиваются параметры соответствующей фигуры, которые вводятся как дробные числа (функция float()), вызывается функция rect() или tri() с введёнными аргументами, и в конце выводится значение глобальной переменной result - площадь фигуры по выбранным параметрам.

## Самостоятельная работа №1
### Дайте подробный комментарий для кода, написанного ниже. Комментарий нужен для каждой строчки кода, нужно описать, что она делает. Не забудьте, что функции комментируются по-особенному.

```python
from datetime import datetime # Импортирует из стандартного модуля datetime одноименную функцию
from math import sqrt # Импортирует из стандартного модуля math функцию sqrt

def main(**kwargs):
    """
    Функция main принимает в качестве аргумента переменное число именованных аргументов или
    словарь с этими аргументами (где ключ - какая-то строка, а значение - список из двух чисел),
    затем прогоняет все аргументы по циклу, рассчитывая и выводя в консоль квадратный корень
    из суммы квадратов чисел из значения каждого из аргументов. Это используется, например, для
    нахождения гипотенузы прямоугольного треугольника по катетам по теореме Пифагора.
    """
    for key in kwargs.items(): # Инициализирует цикл по значениям словаря kwargs, передаваемых
                               # в виде списков из двух элементов, первый из которых - ключ (название
                               # аргумента), а второй - значение аргумента.
        result=sqrt(key[1][0]**2+key[1][1]**2) # создаёт переменную result, в которую записывается
                               # квадратный корень из суммы квадратов чисел из значений каждого
                               # из аргументов
        print(result) # выводит значение result в консоль

if __name__=='__main__': # запуск этого кода происходит через точку входа __main__ - запуск кода как программы
    start_time=datetime.now() # в переменную start_time заносится текущие дата и время через функцию datetime.now()
    main(
        one=[10,3],
        two=[5,4],
        three=[15,13],
        four=[93,53],
        five=[133,15]
    ) # вызов функции main с аргументами one, two, three, four и five, имеющие значения-списками,
      # в каждом из которых по два числа: 10 и 3, 5 и 4, 15 и 13, 93 и 53, 133 и 15 соответственно.
    time_costs=datetime.now()-start_time # в переменную time_costs заносится разница
                                         # между текущими датой и временем (через функцию datetime.now())
                                         # и датой и временем из start_time
    print(f"Время выполнения программы - {time_costs}") # вывод на экран строки "Время выполнения
                                                        # программы -" и значения time_costs
    print(main.__doc__) # вывод документации по функции main
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Sam1.png)

## Выводы

Этот код рассчитывает гипотенузы у 5 треугольников с катетами 10 и 3, 5 и 4, 15 и 13, 93 и 53, 133 и 15. Также он рассчитывает время выполнения программы. Все комментарии по коду даны выше.

## Самостоятельная работа №2
### Напишите программу, которая будет заменять игральную кость с 6 гранями. Если значение равно 5 или 6, то в консоль выводится "Вы победили", есть 3 или 4, то вы рекурсивно должны вызывать эту же функцию, если значение 1 или 2, то в консоль выводится "Вы проиграли". При этом на каждый вызов функции необходимо выводить в консоль значение "кубика". Для выполнения задания необходимо использовать стандартную библиотеку random. Программу нужно написать, используя одну функцию и "точку входа".

```python
from random import randint

def dice():
    num=randint(1,6)
    if num==5 or num==6: print(num,"Вы победили",sep='\n')
    elif num==3 or num==4:
        print(num)
        dice()
    else: print(num,"Вы проиграли",sep='\n')

if __name__=="__main__":
    dice()
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Sam2.png)

## Выводы

Данный код импортирует из стандартной библиотеки random функцию randint для вывода случайного числа в заданных диапазонах для использования в функции `dice()`. Функция в свою очередь никаких аргументов не принимает, но инициализирует переменную num со значением числа от 1 до 6, определяемого случайным образом через импортированную функцию `randint(a,b)`. Далее идёт проверка по значению num: если оно равно 5 или 6, то выводится "выпавший" номер и фраза "Вы победили" через разрыв строки, если же равно 3 или 4, то выводится только число, затем функция вызывает саму себя (рекурсия). Если же не равно числу от 3 до 6 (в нашем случае - равно 1 или 2), то выводится "выпавший" номер и фраза "Вы проиграли" через разрыв строки. Функция `dice()` вызывается через уже много раз упомянутую точку входа `__main__`.

## Самостоятельная работа №3
### Напишите программу, которая будет выводить текущее время с точностью до секунд на протяжении 5 секунд. Программу нужно написать с использованием цикла. Подсказка: необходимо использовать модуль datetime и time, а также вас необходимо как-то "усыплять" программу на 1 секунду.

```python
from datetime import datetime as dt
from time import sleep

for i in range(5):
    print(dt.now())
    if i!=4: sleep(1)
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Sam3.png)

## Выводы

Данный код сначала импортирует из библиотек datetime и time модули datetime и sleep соответственно, затем инициализирует цикл по 5 значениям i. В цикле выводятся текущие дата и время с точностью до секунд с миллисекундами, определяемые программой через функцию `now()` модуля datetime. Если итерация не последняя (о чём говорит `if i!=4`), вызывается функция `sleep()` модуля time для "усыпления" программы на 1 секунду перед следующей итерацией. Таким образом выводятся текущие дата и время с точностью до секунд с миллисекундами на протяжении 5 секунд от начала работа программы.

## Самостоятельная работа №4
### Напишите программу, которая считает среднее арифметическое от аргументов вызываемой функции, с условием, что изначальное количество этих аргументов неизвестно. Программу необходимо реализовать, используя одну функцию и "точку входа".

```python
def mean(*args):
    result=0
    count=0
    for i in args:
        result+=i
        count+=1
    return result/count

if __name__=="__main__":
    print(mean(2,-4,32,3,-21,3,-4,2,-3,4,12,3))
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Sam4.png)

## Выводы

Данная программа содержит функцию `mean()`, принимающую в себя неограниченное количество аргументов в виде кортежа args, о чём говорит звёздочка перед args в строке инициализации функции. Функция инициализирует переменные result и count со значениями 0, затем цикл по значениям кортежа args, в котором к переменной result прибавляется значение i, а к count прибавляется единица на значение. После цикла функция возвращает через return частное переменных result и count - сумму чисел на их количество, иначе - среднее арифметическое. Программа вызывается через точку входа `__main__`, выводя на экран значение, возвращаемое функцией mean() при передаче в неё аргументов 2, -4, 32, 3, -21, 3, -4, 2, -3, 4, 12 и 3. Результат показан на скриншоте выше.

## Самостоятельная работа №5
### Создайте два Python файла. В одном будет выполняться вычисление площади треугольника при помощи формулы Герона (необходимо реализовать через функцию), а во втором будет происходить взаимодействие с пользователем (получение всей необходимой информации и вывод результатов). Напишите эту программу и выведите в консоль полученную площадь.

main.py:
```python
from module import heron

if __name__=="__main__":
    a=int(input("Длина 1 стороны треугольника: "))
    b=int(input("Длина 2 стороны треугольника: "))
    c=int(input("Длина 3 стороны треугольника: "))
    print(f"Площадь такого треугольника равна {heron(a,b,c)}")
```

module.py:
```python
from math import sqrt
def heron(a,b,c):
    p=(a+b+c)/2
    return sqrt(p*(p-a)*(p-b)*(p-c))
```
### Результат
![скрин](https://github.com/a-arkham-3005/program_engineering/blob/Тема_4/screens/Sam5.png)

## Выводы

Данная программа состоит из двух файлов кода. Основной код импортирует функцию heron из модуля module, т.е. из второго файла кода. Через точку входа `__main__` вызывается "тело" программы - у пользователя запрашивают три числа - стороны треугольника, и их вводят в переменные a, b и c. Затем выводится фраза "Площадь такого треугольника равна " и вызывается импортированная функция heron с аргументами a, b и c, возвращаемое значение которой выводится после фразы на экран. Второй файл кода же - это модуль module: в нём есть только функция heron, принимающая три числа в параметры a, b и c, и импорт функции sqrt стандартного модуля math. В ней создаётся переменная p, в которую заносится полусумма параметров a, b и с, содержащих числовые значения - т.н. полупериметр. После этого рассчитывается квадратный корень из произведения полупериметра и разностей полупериметра и каждой из сторон треугольника (параметров a, b и c), и результат возвращается как значение на выходе функции (через return). Таким образом, программа находит площадь треугольника по формуле Герона по известным его сторонам. Пример работы программы показан на скриншоте выше.

## Общие выводы по теме

В рамках данной темы изучены:

1. Функции, инициализация функций, возврат значения через return, приём аргументов;

2. Использование заранее неизвестного числа параметров через кортеж `*args` и словарь `**kwargs`;

3. Вывод содержимого словаря через ключ и значение или список из двух элементов, создаваемый через `items()`;

4. Способы импорта целых модулей и/или функций из одного модуля (дополнительного файла с кодом рядом с основным кодом), точка входа `__main__`;

5. Стандартные модули math, datetime, time, random, их функции;

6. Глобальные переменные и их использование в основной программе и функциях;

7. Документирование кода через # и функций в целом через тройные кавычки `""" """`, вывод документации через `__doc__`.
